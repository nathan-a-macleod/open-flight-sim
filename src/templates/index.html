<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Flight Simulator</title>

        <meta charset="utf-8">

        <link rel="stylesheet" href='/static/style/style.css' />
        <script src="https://cesium.com/downloads/cesiumjs/releases/1.87.1/Build/Cesium/Cesium.js"></script>
        <link href="https://cesium.com/downloads/cesiumjs/releases/1.87.1/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    </head>
    <body>
        <script>
            function addScript(src){
                let script = document.createElement("script");
                script.setAttribute("src", src);
                script.setAttribute("type", "text/javascript");
                document.body.appendChild(script);
            }
        </script>

        <div id="cesiumContainer">
            <button id="resetViewBtn" class="UI">Reset View</button>
        </div>

        <div id="fog" class="UI">
            <label>Fog Start: </label>
            <input type="number" step=0.05 id="fogStart" value=0 style="width: 100%;">
            <label>Fog End: </label>
            <input type="number" step=0.05 id="fogEnd" value=1 style="width: 100%;">
            <input type="checkbox" id="fogCheckmark">Enabled</input>
        </div>

        <div id="setupDiv" style="display: none;">
            <div id="weatherElem" class="UI">
                <label id="weatherText">Weather Quality: 50%</label>
                <input id="weatherInput" type="range" min=1 max=100 value=50 step=1>
            </div>

            <select id="selectAirport">

            </select>
            
            <button id="launchBtn">Launch!</button>
        </div>

        <div id="APITokenDiv" style="display: none;">
            <h1>Connect to your Cesium account</h1>
            <p>To access the map information, you must use a valid API access token with Cesium. Here is how to get one:</p>
            <ul>
                <li>Go to: <a href="https://cesium.com" target="_blank" rel="noopener noreferrer">https://cesium.com</a>, and sign in (or create an account if you don't have one).</li>
                <li>Once you are signed in, go to the Cesium access tokens page: <a href="https://cesium.com/ion/tokens/" target="_blank" rel="noopener noreferrer">https://cesium.com/ion/tokens/</a></li>
                <li>Copy the API access token under the "Access Tokens" section, and enter it below:</li>
            </ul>
            
            <p>Once you have entered an API key, the flight simulator will use it to create a map.</p>
            <p>If any part of the website doesn't work, try opening it again in a new tab and entering your API access token again.</p>
            
            <label>Cesium API access token:</label>
            <input id="APIToken">
            <button id="CheckAPIToken">Check</button>
            <p id="APITokenResult"></p>
        </div>
        
        <script type="text/javascript" src="/static/lib/three.min.js"></script>
        <script type="text/javascript" src="/static/lib/three-geo.min.js"></script>
        <script type="text/javascript" src="/static/js/APITokenSection.js"></script>
        <script type="text/javascript" src="/static/js/airports.js"></script>
    </body>
</html>