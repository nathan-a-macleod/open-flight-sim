<!DOCTYPE html>
<html>
    <head>
        <title>Flight Simulator</title>

        <link rel="stylesheet" href='/static/style/style.css' />
        <script src='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.js'></script>
        <link href='https://api.mapbox.com/mapbox-gl-js/v2.3.1/mapbox-gl.css' rel='stylesheet' />
    </head>
    <body>
        <canvas id="mainCanvas"></canvas>

        <div id="fog">
            <label>Fog Start: </label>
            <input type="range" min=0.01 max=4 step=0.005 id="fogStart" value=0 style="width: 100%;">
            <label>Fog End: </label>
            <input type="range" min=0.01 max=4 step=0.005 id="fogEnd" value=0.07 style="width: 100%;">
            <button id="turnFogOffBtn" onclick="scene.fog = null;">Turn off</button>
        </div>

        <div id="findLocationDiv" style="display: none;">
            <div id="map"></div>
            <form id="menu" autocomplete="off">
              <!-- See a list of Mapbox-hosted public styles at -->
              <!-- https://docs.mapbox.com/api/maps/styles/#mapbox-styles -->
              <input id="satellite-v9" type="radio" name="rtoggle" value="satellite">
              <label for="satellite-v9">satellite</label>
              <input id="streets-v11" type="radio" name="rtoggle" value="streets" checked="checked">
              <label for="streets-v11">streets</label>
            </form>

            <select name="resolutionElem" id="resolutionElem">
                <optgroup label="resolution">
                    <option value="low">Low</option>
                    <option value="medium" selected="selected">Medium</option>
                    <option value="high">High</option>
                    <option value="ultra">Ultra</option>
                    <option value="insane">INSANE</option>
                </optgroup>
            </select>

            <select name="radiusElem" id="radiusElem">
                <optgroup label="radius">
                    <option value="microscopic">Microscopic</option>
                    <option value="tiny">Tiny</option>
                    <option value="normal" selected="selected">Normal</option>
                    <option value="large">Large</option>
                    <option value="massive">MASSIVE</option>
                </optgroup>
            </select>

            <!--<form id="searchFieldForm">
              <input id="searchField" placeholder="Search for somewhere..."></input>
              <button id="searchFieldBtn">Search</button>
            </form>-->
            
            <button id="launchBtn">Launch!</button>
        </div>

        <div id="APITokenDiv" style="display: none;">
            <h1>Connect to your Mapbox account</h1>
            <p>In order to download satellite information, you must use a valid API access token using Mapbox. Here is how to get one:</p>
            <ul>
                <li>Go to: <a href="https://mapbox.com" target="_blank" rel="noopener noreferrer">https://mapbox.com</a>, and sign in (or create an account if you don't have one).</li>
                <li>Once you are signed in, go to the Mapbox account page: <a href="https://account.mapbox.com" target="_blank" rel="noopener noreferrer">https://account.mapbox.com</a></li>
                <li>Copy the API access token, under the "Access tokens" section, and enter it below:</li>
            </ul>
            
            <p>Once you have entered an API key, the flight simulator will use it to download satellite imagery.</p>
            
            <label>Mapbox API access token:</label>
            <input id="APIToken">
            <button id="CheckAPIToken">Check</button>
            <p id="APITokenResult"></p>
        </div>
        
        <script type="text/javascript" src="/static/lib/three.min.js"></script>
        <script type="text/javascript" src="/static/lib/three-geo.min.js"></script>
        <script type="text/javascript" src="/static/lib/OrbitControls.js"></script>
        <script type="text/javascript" src="/static/js/APIToken.js"></script>
        <script type="text/javascript" src="/static/js/airports.js"></script>
    </body>
</html>